<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title>Nathan McGinness</title>
    <link href="http://njmcgee.com/atom.xml" rel="self"/>
    <link href="http://njmcgee.com/"/>
    <updated>2011-06-09T12:44:52-07:00</updated>
    <id>http://njmcgee.com/</id>
    
    
    <entry>
        <title>Fixed positions with JavaScript </title>
        
        
        <link href="http://njmcgee.com/2011/06/fixed-positions-with-javascript.html"/>
        
        <updated>2011-06-08T00:00:00-07:00</updated>
        <id>njmcgee.com:/2011/06/fixed-positions-with-javascript</id>
        <content type="html">
          
          <p>Fixed elements (sidebars in particular) are <a href="http://help.bigcartel.com/articles/22-javascript-ajax">becoming</a> <a href="http://store.apple.com/us/configure/MC723LL/A?mco=MjEyOTY4OTQ">popular</a>. You know those sidebars that wait until the top of window hits them, and they magically stick?</p>
<p>In simple situations (this site for example) <span class="caps">CSS</span> will do the trick. But what if dynamic content at the top of your page changes this calculation (a flash or notification message for example)? Or your header likes to change size?</p>
<p><a href="http://ozanonay.com">Ozan</a> helped me solve this problem, and I thought I&#8217;d share.</p>
<p>We’ll start by selecting said element, calling our custom function, and specifying how far from the top of the page we want it to live (before scrolling).</p>
<div class="highlight"><pre><code class="js"><span class="kd">var</span> <span class="nx">topBoundary</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#fixed&#39;</span><span class="p">).</span><span class="nx">myFixture</span><span class="p">({</span> <span class="nx">topBoundary</span><span class="o">:</span> <span class="nx">topBoundary</span> <span class="p">});</span>
</code></pre>
</div><p>And our function looks something like this:</p>
<div class="highlight"><pre><code class="js"><span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">myFixture</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">settings</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    
    <span class="kd">var</span> <span class="nx">elem</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s1">&#39;position&#39;</span><span class="p">,</span> <span class="s1">&#39;fixed&#39;</span><span class="p">);</span>
    
    <span class="kd">var</span> <span class="nx">setPosition</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>         
      <span class="c1">// get no of pixels hidden above the the window     </span>
      <span class="kd">var</span> <span class="nx">scrollTop</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">scrollTop</span><span class="p">();</span>       
      <span class="c1">// set the default position</span>
      <span class="kd">var</span> <span class="nx">top</span> <span class="o">=</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">top</span> <span class="o">||</span> <span class="mi">0</span>      
        <span class="c1">// The difference between the default position and how far we have scrolled</span>
        <span class="p">,</span> <span class="nx">topBuffer</span> <span class="o">=</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">topBoundary</span> <span class="o">-</span> <span class="nx">scrollTop</span><span class="p">;</span>      
      <span class="c1">// update position if required</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">topBuffer</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="nx">top</span> <span class="o">+=</span> <span class="nx">topBuffer</span> <span class="p">}</span>
      <span class="c1">// Set the position!</span>
      <span class="nx">elem</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="nx">top</span><span class="p">);</span>
    <span class="p">};</span>
        
    <span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s1">&#39;scroll&#39;</span><span class="p">,</span> <span class="nx">setPosition</span><span class="p">);</span>
    <span class="nx">setPosition</span><span class="p">();</span>
  <span class="p">});</span>
<span class="p">};</span>
</code></pre>
</div><p>Let’s revisit our first block of code, and base the calculation on the height of a div above it (a header for example):</p>
<div class="highlight"><pre><code class="js"><span class="kd">var</span> <span class="nx">headerHeight</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;header&#39;</span><span class="p">);</span>
<span class="nx">topBoundary</span> <span class="o">=</span> <span class="nx">headerHeight</span><span class="p">.</span><span class="nx">outerHeight</span><span class="p">();</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#fixed&#39;</span><span class="p">).</span><span class="nx">myFixture</span><span class="p">({</span> <span class="nx">topBoundary</span><span class="o">:</span> <span class="nx">topBoundary</span> <span class="p">});</span>
</code></pre>
</div><p>Let&#8217;s also check if any notifications exist, and account for that:</p>
<div class="highlight"><pre><code class="js"><span class="kd">var</span> <span class="nx">notifications</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#notifications&#39;</span><span class="p">)</span>
  <span class="p">,</span> <span class="nx">headerHeight</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;header&#39;</span><span class="p">)</span>
  <span class="p">,</span> <span class="nx">topBoundary</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">notifications</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">topBoundary</span> <span class="o">=</span> <span class="nx">notifications</span><span class="p">.</span><span class="nx">outerHeight</span><span class="p">()</span> <span class="o">+</span> <span class="nx">headerHeight</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="nx">topBoundary</span> <span class="o">=</span> <span class="nx">headerHeight</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#fixed&#39;</span><span class="p">).</span><span class="nx">myFixture</span><span class="p">({</span> <span class="nx">topBoundary</span><span class="o">:</span> <span class="nx">topBoundary</span> <span class="p">});</span>
</code></pre>
</div>
          
        </content>
        <author>
            <name></name>
            <uri></uri>
        </author>
    </entry>
    
    <entry>
        <title>Topguest at Lake Tahoe </title>
        
        
        <link href="http://njmcgee.com/2011/06/topguest-at-lake-tahoe.html"/>
        
        <updated>2011-06-06T00:00:00-07:00</updated>
        <id>njmcgee.com:/2011/06/topguest-at-lake-tahoe</id>
        <content type="html">
          
           <img src="http://njmcgee.com/images/posts/tahoe-01.jpg"></img>
          
          <p>The Topguest team took some friends to Lake Tahoe the weekend before last. As you can see, it’s a really beautiful part of the world.</p>
<p><img style="margin-left: 0;" src="/images/posts/tahoe-02.jpg"/><br />
<img style="margin-left: 0; margin-top: 30px" src="/images/posts/tahoe-03.jpg"/></p>
          
        </content>
        <author>
            <name></name>
            <uri></uri>
        </author>
    </entry>
    
    <entry>
        <title>A blog in two days with Jekyll &#x219D;</title>
        
        
        <link href="http://blog.topguest.com/2011/04/designing-and-building-a-blog-in-two-days.html"/>
        
        <updated>2011-06-06T00:00:00-07:00</updated>
        <id>njmcgee.com:/2011/06/a-blog-in-two-days-with-jekyll</id>
        <content type="html">
          
          <p>A post I wrote over at the Topguest blog on rapid blog development with <a href="https://github.com/mojombo/jekyll/wiki">Jekyll</a> &ndash; the same platform I built this blog with. If you’re interested in front-end development I think it’s worth a read.</p>
          
        </content>
        <author>
            <name></name>
            <uri></uri>
        </author>
    </entry>
    
    <entry>
        <title>Google drops IE7 &#x219D;</title>
        
        
        <link href="http://gmailblog.blogspot.com/2011/06/our-plans-to-support-modern-browsers.html"/>
        
        <updated>2011-06-05T00:00:00-07:00</updated>
        <id>njmcgee.com:/2011/06/google-drops-ie7</id>
        <content type="html">
          
          <p>Great news. As of August 1st Google Apps (including gmail and docs) will drop support for IE7. If Google can do it, so can I.</p>
<blockquote>“As the world moves more to the web, these new browsers are more than just a modern convenience, they are a necessity for what the future holds.”</blockquote>
          
        </content>
        <author>
            <name></name>
            <uri></uri>
        </author>
    </entry>
    
    <entry>
        <title>Anni Albers in the NGA online archive &#x219D;</title>
        
        
        <link href="http://cs.nga.gov.au/Search.cfm?mystartrow=1&realstartrow=1&VIEW_SELECT=1&CREIRN=12177&ORDER_SELECT=1&SHOWROWS=20"/>
        
        <updated>2011-06-05T00:00:00-07:00</updated>
        <id>njmcgee.com:/2011/06/anni-albers</id>
        <content type="html">
          
           <img src="http://njmcgee.com/images/posts/anni-albers.jpg"></img>
          
          <p>Have found some simply stunning Anni Albers (the wife of my favourite artist, Josef Albers) prints at the National Gallery Of Australia.</p>
          
        </content>
        <author>
            <name></name>
            <uri></uri>
        </author>
    </entry>
    
    <entry>
        <title>A new Topguest </title>
        
        
        <link href="http://njmcgee.com/2011/05/a-new-topguest.html"/>
        
        <updated>2011-05-26T00:00:00-07:00</updated>
        <id>njmcgee.com:/2011/05/a-new-topguest</id>
        <content type="html">
          
           <img src="http://njmcgee.com/images/topguest-devices.jpg"></img>
          
          <p>You might have noticed that things are changing at Topguest. A new design, some subtle but important changes to the application, and we’ve just launched the beginnings of a new mobile web experience.</p>
<p>One of the more dramatic changes is the much brighter color scheme. After applying it to some important layouts I mentioned to the team that we’d “turned the lights on”. This stuck with me, as I worked through problems unrelated to color or shade, and I hope it shows. We hope the new (and upcoming) changes, bring clarity, ease of use, and lots more points!</p>
<p>Things aren’t slowing anytime soon. We’re adding programs and new locations every day, and be sure to visit <a href="http://topguest.com">http://topguest.com</a> on your mobile browser. We’re regularly adding mobile optimized functionality so you can manage your points, and find locations on the go.</p>
<p>Any feedback? <a href="mailto:nathan@topguest.com">Get in touch</a>.</p>
          
        </content>
        <author>
            <name></name>
            <uri></uri>
        </author>
    </entry>
    
    <entry>
        <title>Our vision for the future of loyalty &#x219D;</title>
        
        
        <link href="http://blog.topguest.com/2011/05/the-future-of-loyalty.html"/>
        
        <updated>2011-05-24T00:00:00-07:00</updated>
        <id>njmcgee.com:/2011/05/the-future-of-loyalty</id>
        <content type="html">
          
          <p>Our <span class="caps">CEO</span> Geoff on the business we do at Topguest.</p>
          
        </content>
        <author>
            <name></name>
            <uri></uri>
        </author>
    </entry>
    
</feed>